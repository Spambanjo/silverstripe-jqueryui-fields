
$(document).ready(function(){var a="select";$(".field.jqueryuislider").each(function(){fld=$(this).find(a);steps=$.parseJSON(fld.attr("data-slider-values"));keymap=[];labelmap=[];fldval=0;for(key in steps){keymap[keymap.length]=key;if(key==fld.attr("data-slider-value")){fldval=keymap.length-1}labelmap[labelmap.length]=steps[key]}fld.attr("data-jqueryslider-keymap",JSON.stringify(keymap));el=$("<div></div>");$(this).find(".middleColumn").append(el);el.slider({max:Object.keys(keymap).length-1,value:fldval}).slider("pips",{rest:"label",labels:labelmap}).on("slidechange",function(d,c){fld=$(this).parent().find(a);steps=$.parseJSON(fld.attr("data-jqueryslider-keymap"));fld.val(keymap[c.value])});$(this).find(".ui-slider-pip:not(.ui-slider-pip-first):not(.ui-slider-pip-last) .ui-slider-label").each(function(){$(this).css({"margin-left":0-($(this).width()/2)})});var b=0;$(this).find(".ui-slider-pip .ui-slider-label").each(function(){if($(this).height()>b){b=parseFloat($(this).height())}});$(this).find(".middleColumn").css({"padding-bottom":b-6})})});